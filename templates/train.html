<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HomePage</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <link rel="stylesheet" href="../static/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <style></style>
  </head>

  <body>
    <header class="header">
      <a href="#" class="logo"
        ><img src="../static/images/ml.png" class="echa_logo"
      /></a>
      <nav class="nav-items">
        <div class="down">
          <a href="/about">About Us </a>
          <a href="/preAssessment">Pre-Assessment</a>
          <div class="dropdown">
            <button class="dropbtn">Dropdown_1</button>
            <div class="dropdown-content">
              <a href="#">Link 1</a>
              <a href="#">Link 2</a>
            </div>
          </div>
          <div class="dropdown">
            <button class="dropbtn">Dropdown_2</button>
            <div class="dropdown-content">
              <a href="#">Link 1</a>
              <a href="#">Link 2</a>
            </div>
          </div>
          <a href="./contact">Contact</a>
        </div>

        <!-- ExpleoLogo -->
        <img src="../static/images/expleo.png" class="img" />
      </nav>
    </header>

    <div>
      &nbsp;
      <!-- Blanck space aftr head -->
    </div>

    <div class="search1">
      <h2 align="center" style="color: rgb(27, 88, 195)">
        <b>Train Model</b>
      </h2>
      <div align="center">
        <form method="POST" action="/get_columns">
          <input type="submit" value="Choose target variable" />
        </form>
        <br />

        {% if columns %}
        <form method="POST" action="/choose_target_variables">
          <p></p>
          <select multiple name="options">
            {% for column in columns %}
            <option value="{{ column }}">{{ column }}</option>
            {% endfor %}
          </select>
          <br /><br />
          <input type="submit" value="Choose" />
        </form>
        {% endif %} {% if selected_columns %}<br />
        <p style="color: rgb(0, 0, 0)">
          <b>Independent Variable:- {{ selected_columns|safe }}</b>
        </p>
        <p style="color: black">
          <b>Dependent/Target Variable:- {{ target_var|safe }}</b>
        </p>
        {% endif %}


    
        <form method="POST" action="/train_model">
          <br />
          <p style="color: black"><b>Choose an Algorithm</b></p>
          <select multiple name="algorithms">
            <option value="reg">Regression</option>
            <option value="class">Classification</option>
          </select>
          <br />
          <input type="submit" value="Train model" />
        </form>
<b>
        {% if train_rmse %}
        <p style="color: black">Training R2 Score is {{ train_r2|safe }}</p>
        <p style="color: black">RMSE value: {{ train_rmse|safe }}</p>
        <p style="color: black">Testing R2 Score is {{ test_r2|safe }}</p>
        <p style="color: black">RMSE value: {{ test_rmse|safe }}</p>
        <img src="{{reg_scatter|safe}}"/>
        {% endif %} {% if train_acc %}
        <p style="color: black">Training Accuracy is {{ train_acc|safe }}</p>
        <p style="color: black">Testing Acuracy is {{ test_acc|safe }}</p>
        <p style="color: black">Confusion matrix: {{ cm|safe }}</p>
        {% endif %}
      </div><br><br>
      <form action="#">
        <button
          style="margin-left: 90%;"
          class="dbutton"
          type="submit"
          formaction="back"
          text-align="center"
        >
          Back
        </button>
      </form>

    </div>
</b><br>
<footer class="bg-light text-center text-lg-start">
  <!-- Copyright -->
  <div
    class="text-center p-3"
    style="background-color: rgba(10, 49, 138, 0.797)"
  >
    Â© 2023 Copyright:
    <a class="text-dark" href="https://expleo.com/">expleo.com</a>
  </div>
  <!-- Copyright -->
</footer>
    <script src="../static/search.js"></script>
  </body>
</html>
